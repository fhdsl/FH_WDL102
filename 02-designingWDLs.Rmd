```{r, include = FALSE}
ottrpal::set_knitr_image_path()
```

# What is WDL?
The Workflow Description Language (WDL) is a way to specify data processing workflows with a human-readable and -writeable syntax. WDL makes it straightforward to define analysis tasks, chain them together in workflows, and parallelize their execution. 

The language makes common patterns simple to express, while also admitting uncommon or complicated behavior; and strives to achieve portability not only across execution platforms, but also different types of users. Whether one is an analyst, a programmer, an operator of a production system, or any other sort of user, WDL should be accessible and understandable.

## OpenWDL

WDL was originally developed for genome analysis pipelines by the Broad Institute. As its community grew, both end users as well as other organizations using WDL for their own software, it became clear that there was a need to allow WDL to become a true community driven standard. The OpenWDL community has thus been formed to steward the WDL language specification and advocate its adoption.

There is ongoing work on WDL the specification, thus it has multiple versions.  Currently there are three versions to note:
- draft-2 - this version was the version that much of the Broad's public facing documentation and example workflows were written in. 
- 1.0 - this is a more recent version that is the most up to date version of the specification that Cromwell can interpret.  We use WDL 1.0 at the Hutch when we use Cromwell.
- 1.1 - this is an even more recent version that not all WDL engines support yet. 

We'll be using WDL 1.0 in this course but you can always check out the [openwdl repo](https://github.com/openwdl/wdl) for more information about tweaking these instructions for different versions of WDL.  


## Documentation about the WDL Spec

To begin learning how to write WDL itself, the best (and evolving) resource is the [WDL-Docs](https://wdl-docs.readthedocs.io/en/stable/) site being developed by the OpenWDL community.  There you'll find examples and guidance about the 1.0 WDL specification and using it to write workflows.  


## Creating an Inputs template

There is a tool that is installed along with Cromwell called "womtool".  This tool is what does workflow validation through the Shiny app and fh.wdlR package.  However, it has additional features that are not available unless you run it directly.    

There is [specific documentation from the Broad about womtool](https://cromwell.readthedocs.io/en/stable/WOMtool/) that can give you more information about the parameters and features of this small tool.  

The most useful aspect to womtool is the ability to give it a new workflow you have written and have it give you a template input.json file for you to customize for use.   To use it, log into Rhino and do the following:

```
module load cromwell/84
java -jar $EBROOTCROMWELL/womtool.jar inputs myNewWorkflow.wdl > input_template.json
```

Now your template input information will be saved in the file `input_template.json1`.  
